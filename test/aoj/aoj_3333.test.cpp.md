---
data:
  _extendedDependsOn:
  - icon: ':x:'
    path: data_structure/range_query_binary_trie.hpp
    title: data_structure/range_query_binary_trie.hpp
  _extendedRequiredBy: []
  _extendedVerifiedWith: []
  _isVerificationFailed: true
  _pathExtension: cpp
  _verificationStatusIcon: ':x:'
  attributes:
    '*NOT_SPECIAL_COMMENTS*': ''
    PROBLEM: https://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=3333
    links:
    - https://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=3333
  bundledCode: "#line 1 \"test/aoj/aoj_3333.test.cpp\"\n#define PROBLEM \"https://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=3333\"\
    \n\n#line 2 \"data_structure/range_query_binary_trie.hpp\"\n\n#include <array>\n\
    #include <cassert>\n#include <memory>\n#include <set>\n#include <vector>\n#include\
    \ <limits>\n\nnamespace ebi {\n\ntemplate <class T, int BIT_SIZE>\nstruct range_query_binary_trie\
    \ {\n   private:\n    struct Node;\n    using node_ptr = std::shared_ptr<Node>;\n\
    \    struct Node {\n        std::array<node_ptr, 2> child;\n        std::set<int>\
    \ set = {1'000'000'000};\n\n        Node() = default;\n    };\n\n    void insert(int\
    \ idx) {\n        T x = a[idx];\n        node_ptr now = root;\n        now->set.insert(idx);\n\
    \        for (int i = BIT_SIZE - 1; i >= 0; i--) {\n            int index = (x\
    \ >> i) & 1;\n            if (now->child[index] == nullptr) {\n              \
    \  now->child[index] = std::make_shared<Node>();\n            }\n            now\
    \ = now->child[index];\n            now->set.insert(idx);\n        }\n    }\n\n\
    \    void erase(int idx) {\n        T x = a[idx];\n        node_ptr now = root;\n\
    \        now->set.erase(idx);\n        for (int i = BIT_SIZE - 1; i >= 0; i--)\
    \ {\n            int index = (x >> i) & 1;\n            now = now->child[index];\n\
    \            now->set.erase(idx);\n        }\n    }\n\n   public:\n    range_query_binary_trie(const\
    \ std::vector<T> &a) : a(a) {\n        for (int i = 0; i < (int)a.size(); i++)\
    \ insert(i);\n    }\n\n    void set(int idx, T x) {\n        erase(idx);\n   \
    \     a[idx] = x;\n        insert(idx);\n    }\n\n    T get(int idx) const { return\
    \ a[idx]; }\n\n    T min_element(int l, int r, T x) {\n        T val = 0;\n  \
    \      node_ptr now = root;\n        for (int i = BIT_SIZE - 1; i >= 0; i--) {\n\
    \            int index = (x >> i) & 1;\n            if (now->child[index] &&\n\
    \                *now->child[index]->set.lower_bound(l) < r) {\n             \
    \   now = now->child[index];\n            } else if (now->child[index ^ 1] &&\n\
    \                       *now->child[index ^ 1]->set.lower_bound(l) < r) {\n  \
    \              now = now->child[index ^ 1];\n                val |= T(1) << i;\n\
    \            } else {\n                assert(0);\n            }\n        }\n\
    \        return val;\n    }\n\n   private:\n    std::vector<T> a;\n    node_ptr\
    \ root = std::make_shared<Node>();\n};\n\n}  // namespace ebi\n#line 4 \"test/aoj/aoj_3333.test.cpp\"\
    \n\n#include <iostream>\n#line 7 \"test/aoj/aoj_3333.test.cpp\"\n\n\nint main()\
    \ {\n    int n,q;\n    std::cin >> n >> q;\n    std::vector<int> a(n);\n    for(int\
    \ i = 0; i < n; i++) {\n        std::cin >> a[i];\n    }\n    ebi::range_query_binary_trie<int,\
    \ 10> btrie(a);\n    while(q--) {\n        int t;\n        std::cin >> t;\n  \
    \      if(t == 1) {\n            int k,x;\n            std::cin >> k >> x;\n \
    \           k--;\n            btrie.set(k, btrie.get(k) ^ x);\n        }\n   \
    \     else {\n            int l,r,x;\n            std::cin >> l >> r >> x;\n \
    \           l--;\n            std::cout << btrie.min_element(l, r, x) << '\\n';\n\
    \        }\n    }\n}\n"
  code: "#define PROBLEM \"https://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=3333\"\
    \n\n#include \"../../data_structure/range_query_binary_trie.hpp\"\n\n#include\
    \ <iostream>\n#include <vector>\n\n\nint main() {\n    int n,q;\n    std::cin\
    \ >> n >> q;\n    std::vector<int> a(n);\n    for(int i = 0; i < n; i++) {\n \
    \       std::cin >> a[i];\n    }\n    ebi::range_query_binary_trie<int, 10> btrie(a);\n\
    \    while(q--) {\n        int t;\n        std::cin >> t;\n        if(t == 1)\
    \ {\n            int k,x;\n            std::cin >> k >> x;\n            k--;\n\
    \            btrie.set(k, btrie.get(k) ^ x);\n        }\n        else {\n    \
    \        int l,r,x;\n            std::cin >> l >> r >> x;\n            l--;\n\
    \            std::cout << btrie.min_element(l, r, x) << '\\n';\n        }\n  \
    \  }\n}"
  dependsOn:
  - data_structure/range_query_binary_trie.hpp
  isVerificationFile: true
  path: test/aoj/aoj_3333.test.cpp
  requiredBy: []
  timestamp: '2023-05-04 20:40:16+09:00'
  verificationStatus: TEST_WRONG_ANSWER
  verifiedWith: []
documentation_of: test/aoj/aoj_3333.test.cpp
layout: document
redirect_from:
- /verify/test/aoj/aoj_3333.test.cpp
- /verify/test/aoj/aoj_3333.test.cpp.html
title: test/aoj/aoj_3333.test.cpp
---
